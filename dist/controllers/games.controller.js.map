{"version":3,"sources":["../../src/controllers/games.controller.ts"],"sourcesContent":["import { CreateOrUpdateGameDto } from '@/dtos/games.dto';\nimport { RequestWithUser } from '@/interfaces/auth.interface';\nimport GameService from '@/services/games.service';\nimport { NextFunction, Request, Response } from 'express';\n\nclass GamesController {\n  public gameService = new GameService();\n\n  public createGame = async (req: RequestWithUser, res: Response, next: NextFunction) => {\n    try {\n      const gameData: CreateOrUpdateGameDto = req.body;\n      const userId: string = req.user._id;\n      const createGameData = await this.gameService.createGame(gameData, userId);\n\n      res.status(201).json({ data: createGameData, message: 'createGame' });\n    } catch (error) {\n      next(error);\n    }\n  };\n\n  public getAllGamesOfUser = async (req: RequestWithUser, res: Response, next: NextFunction) => {\n    try {\n      const userId: string = req.user._id;\n      const findAllGamesData = await this.gameService.getAllGamesOfUser(userId);\n\n      res.status(200).json({ data: findAllGamesData, message: 'findAll' });\n    } catch (error) {\n      next(error);\n    }\n  };\n\n  public getGameById = async (req: Request, res: Response, next: NextFunction) => {\n    try {\n      const gameId: string = req.params.id;\n      const findOneGameData = await this.gameService.getGameById(gameId);\n\n      res.status(200).json({ data: findOneGameData, message: 'findOne' });\n    } catch (error) {\n      next(error);\n    }\n  };\n\n  public updateGame = async (req: Request, res: Response, next: NextFunction) => {\n    try {\n      const gameId: string = req.params.id;\n      const gameData: CreateOrUpdateGameDto = req.body;\n      const updateGameData = await this.gameService.updateGame(gameId, gameData);\n\n      res.status(200).json({ data: updateGameData, message: 'update' });\n    } catch (error) {\n      next(error);\n    }\n  };\n\n  public deleteGame = async (req: Request, res: Response, next: NextFunction) => {\n    try {\n      const gameId: string = req.params.id;\n      const deleteGameData = await this.gameService.deleteGame(gameId);\n\n      res.status(200).json({ data: deleteGameData, message: 'delete' });\n    } catch (error) {\n      next(error);\n    }\n  };\n}\n\nexport default GamesController;\n"],"names":["GamesController","gameService","GameService","createGame","req","res","next","gameData","body","userId","user","_id","createGameData","status","json","data","message","error","getAllGamesOfUser","findAllGamesData","getGameById","gameId","params","id","findOneGameData","updateGame","updateGameData","deleteGame","deleteGameData"],"mappings":";;;;+BAkEA;;;eAAA;;;qEAhEwB;;;;;;;;;;;;;;;;;;;AAGxB,IAAA,AAAMA,kBAAN,MAAMA;;QACJ,uBAAOC,eAAc,IAAIC,qBAAW;QAEpC,uBAAOC,cAAa,OAAOC,KAAsBC,KAAeC;YAC9D,IAAI;gBACF,MAAMC,WAAkCH,IAAII,IAAI;gBAChD,MAAMC,SAAiBL,IAAIM,IAAI,CAACC,GAAG;gBACnC,MAAMC,iBAAiB,MAAM,IAAI,CAACX,WAAW,CAACE,UAAU,CAACI,UAAUE;gBAEnEJ,IAAIQ,MAAM,CAAC,KAAKC,IAAI,CAAC;oBAAEC,MAAMH;oBAAgBI,SAAS;gBAAa;YACrE,EAAE,OAAOC,OAAO;gBACdX,KAAKW;YACP;QACF;QAEA,uBAAOC,qBAAoB,OAAOd,KAAsBC,KAAeC;YACrE,IAAI;gBACF,MAAMG,SAAiBL,IAAIM,IAAI,CAACC,GAAG;gBACnC,MAAMQ,mBAAmB,MAAM,IAAI,CAAClB,WAAW,CAACiB,iBAAiB,CAACT;gBAElEJ,IAAIQ,MAAM,CAAC,KAAKC,IAAI,CAAC;oBAAEC,MAAMI;oBAAkBH,SAAS;gBAAU;YACpE,EAAE,OAAOC,OAAO;gBACdX,KAAKW;YACP;QACF;QAEA,uBAAOG,eAAc,OAAOhB,KAAcC,KAAeC;YACvD,IAAI;gBACF,MAAMe,SAAiBjB,IAAIkB,MAAM,CAACC,EAAE;gBACpC,MAAMC,kBAAkB,MAAM,IAAI,CAACvB,WAAW,CAACmB,WAAW,CAACC;gBAE3DhB,IAAIQ,MAAM,CAAC,KAAKC,IAAI,CAAC;oBAAEC,MAAMS;oBAAiBR,SAAS;gBAAU;YACnE,EAAE,OAAOC,OAAO;gBACdX,KAAKW;YACP;QACF;QAEA,uBAAOQ,cAAa,OAAOrB,KAAcC,KAAeC;YACtD,IAAI;gBACF,MAAMe,SAAiBjB,IAAIkB,MAAM,CAACC,EAAE;gBACpC,MAAMhB,WAAkCH,IAAII,IAAI;gBAChD,MAAMkB,iBAAiB,MAAM,IAAI,CAACzB,WAAW,CAACwB,UAAU,CAACJ,QAAQd;gBAEjEF,IAAIQ,MAAM,CAAC,KAAKC,IAAI,CAAC;oBAAEC,MAAMW;oBAAgBV,SAAS;gBAAS;YACjE,EAAE,OAAOC,OAAO;gBACdX,KAAKW;YACP;QACF;QAEA,uBAAOU,cAAa,OAAOvB,KAAcC,KAAeC;YACtD,IAAI;gBACF,MAAMe,SAAiBjB,IAAIkB,MAAM,CAACC,EAAE;gBACpC,MAAMK,iBAAiB,MAAM,IAAI,CAAC3B,WAAW,CAAC0B,UAAU,CAACN;gBAEzDhB,IAAIQ,MAAM,CAAC,KAAKC,IAAI,CAAC;oBAAEC,MAAMa;oBAAgBZ,SAAS;gBAAS;YACjE,EAAE,OAAOC,OAAO;gBACdX,KAAKW;YACP;QACF;;AACF;MAEA,WAAejB"}