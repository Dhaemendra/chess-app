{"version":3,"sources":["../../src/models/games.model.ts"],"sourcesContent":["import { Game } from '@/interfaces/games.interface';\nimport { model, Schema, Document } from 'mongoose';\n\nconst pieceSchema: Schema = new Schema({\n  type: {\n    type: String,\n    required: true,\n    enum: ['pawn', 'rook', 'knight', 'bishop', 'queen', 'king'],\n  },\n  color: {\n    type: String,\n    required: true,\n    enum: ['w', 'b'],\n  },\n  position: {\n    type: {\n      x: Number,\n      y: Number,\n    },\n    required: true,\n  },\n});\n\nconst gameSchema: Schema = new Schema({\n  gameId: {\n    type: String,\n    required: true,\n  },\n  piecesOnBoard: {\n    type: [pieceSchema],\n    required: true,\n  },\n  fallenPieces: {\n    type: [pieceSchema],\n    required: true,\n  },\n  playerTurn: {\n    type: String,\n    required: true,\n    enum: ['w', 'b'],\n  },\n  userId: {\n    type: Schema.Types.ObjectId,\n    required: true,\n    ref: 'User',\n  },\n});\n\ngameSchema.index({ gameId: 1, userId: 1 }, { unique: true });\n\nconst gameModel = model<Game & Document>('Game', gameSchema);\n\nexport default gameModel;\n"],"names":["pieceSchema","Schema","type","String","required","enum","color","position","x","Number","y","gameSchema","gameId","piecesOnBoard","fallenPieces","playerTurn","userId","Types","ObjectId","ref","index","unique","gameModel","model"],"mappings":";;;;+BAoDA;;;eAAA;;;0BAnDwC;AAExC,MAAMA,cAAsB,IAAIC,gBAAM,CAAC;IACrCC,MAAM;QACJA,MAAMC;QACNC,UAAU;QACVC,MAAM;YAAC;YAAQ;YAAQ;YAAU;YAAU;YAAS;SAAO;IAC7D;IACAC,OAAO;QACLJ,MAAMC;QACNC,UAAU;QACVC,MAAM;YAAC;YAAK;SAAI;IAClB;IACAE,UAAU;QACRL,MAAM;YACJM,GAAGC;YACHC,GAAGD;QACL;QACAL,UAAU;IACZ;AACF;AAEA,MAAMO,aAAqB,IAAIV,gBAAM,CAAC;IACpCW,QAAQ;QACNV,MAAMC;QACNC,UAAU;IACZ;IACAS,eAAe;QACbX,MAAM;YAACF;SAAY;QACnBI,UAAU;IACZ;IACAU,cAAc;QACZZ,MAAM;YAACF;SAAY;QACnBI,UAAU;IACZ;IACAW,YAAY;QACVb,MAAMC;QACNC,UAAU;QACVC,MAAM;YAAC;YAAK;SAAI;IAClB;IACAW,QAAQ;QACNd,MAAMD,gBAAM,CAACgB,KAAK,CAACC,QAAQ;QAC3Bd,UAAU;QACVe,KAAK;IACP;AACF;AAEAR,WAAWS,KAAK,CAAC;IAAER,QAAQ;IAAGI,QAAQ;AAAE,GAAG;IAAEK,QAAQ;AAAK;AAE1D,MAAMC,YAAYC,IAAAA,eAAK,EAAkB,QAAQZ;MAEjD,WAAeW"}